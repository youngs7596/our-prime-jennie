# Prime Council Report
- Date: 2026-01-12 21:48:42
- Query: TIER1/TIER2/RECON 점수 기준의 타당성 검토 요청입니다.

## 점수 설계 이력 (확인된 사실)

1. **LLM 점수는 '50점 기준 가감' 방식으로 설계됨**
   - llm_prompts.py 330라인: '점수 계산 (기본 50점에서 시작)'
   - 357라인: '점수는 반드시 50점 기준으로 가감하여 계산하세요. 뉴스가 없고 펀더멘털이 적정하면 약 55점입니다.'
   - 609라인: 'Bull과 Bear가 팽팽하면 50~55점입니다.'

2. **등급 체계**
   - S(80+): 강력추천
   - A(70-79): 추천
   - B(60-69): 관심
   - C(50-59): 중립
   - D(40-49): 주의
   - F(<40): 회피

3. **현재 scout_pipeline.py의 trade_tier 분류**
   - TIER1: hybrid_score >= 75 (is_tradable=True, 풀매수)
   - RECON: 60 <= hybrid_score < 75 + 추세 신호 존재 (소액 매수)
   - BLOCKED: 그 외

4. **현재 buy-executor의 MIN_LLM_SCORE 설정**
   - DB CONFIG: MIN_LLM_SCORE = 70 (TIER1 기준)
   - 환경변수/레지스트리: 60
   - 결과: 63점 종목은 매수 거부됨

## 분석 요청

사용자는 다음과 같이 주장합니다:
'점수는 50점에 수렴하도록 설계했고, 조금이라도 높아질수록 알파가 되는 것이다. 따라서 절대 최소 점수(50점대)만 넘으면 수량을 차등화해서 매수해야 한다.'

질문:
1. 위 점수 설계 의도를 고려할 때, 현재 MIN_LLM_SCORE=70 설정이 적절한가?
2. 절대 최소 점수(Absolute Floor)는 몇 점이 적절한가? (50? 55? 60?)
3. TIER1/TIER2/RECON 각각의 포지션 비율(1.0 / 0.6 / 0.3)은 적절한가?
4. 백테스트 관점에서 권장하는 설정값은?
- Target: services/buy-executor/executor.py

# Final Plan

## 1) 승인된 범위 (Approved scope)
- MIN_LLM_SCORE 조정
- TIER2 포지션 비율 추가
- Stale Score 로직 개선

## 2) 실행 순서가 있는 액션 스텝 (Action Steps)
1. **MIN_LLM_SCORE 기본값 조정**
   - `MIN_LLM_SCORE`를 60으로 하향 조정하고, `MIN_LLM_SCORE_TIER2`를 55로 설정하여 절대 최소 점수를 50점대에 맞추도록 함.
   
2. **TIER2 포지션 비율 추가**
   - TIER2의 포지션 비율을 0.5로 설정하여 TIER1과 RECON 사이의 중간 비중을 부여함.
   
3. **Stale Score 페널티 개선**
   - Stale Score 페널티를 영업일 기준으로 적용하여, 시장 비영업일에는 페널티를 완화하도록 로직을 수정함.
   
4. **백테스트 수행**
   - 현재 설정과 제안 설정 간의 성과 비교를 위한 백테스트를 수행하여 실증적 검증을 진행함.
   
5. **성과 모니터링**
   - 변경 사항 적용 후, TIER2 종목의 평균 손실률 및 포트폴리오 전체의 MDD를 모니터링하여 리스크를 관리함.
   
6. **피드백 수집**
   - 사용자로부터 TIER2 종목에 대한 기대 수익률 및 허용 가능한 리스크 수준에 대한 피드백을 수집함.
   
7. **결과 분석 및 조정**
   - 백테스트 결과와 피드백을 바탕으로 추가적인 조정이 필요한지 분석하고, 필요 시 추가 조치를 취함.

## 3) 실험 (Experiments) 및 수용 기준 (Acceptance criteria)
- **Experiment 1: MIN_LLM_SCORE 최적값 검증**
  - **Hypothesis:** MIN_LLM_SCORE를 60으로 설정하면 '관심' 등급 종목의 매수 기회를 확보하면서도 리스크를 적절히 관리할 수 있다.
  - **Success Metrics:**
    - 총 수익률 증가
    - 샤프 비율 개선
    - MDD가 유의미하게 증가하지 않음
    - TIER2 종목의 평균 수익률이 TIER1 대비 과도하게 낮아지지 않음

- **Experiment 2: Stale Score 페널티 개선**
  - **Hypothesis:** Stale Score 페널티를 영업일 기준으로 적용하면 유효한 신호의 매수 기회 손실을 줄일 수 있다.
  - **Success Metrics:**
    - 주말/휴일 직후 매수 기회 손실 감소
    - 전체 매수 신호 중 stale score로 인한 스킵 비율 감소
    - 수익률에 부정적인 영향이 없음

## 4) 리스크 및 롤백 트리거 (Risk & rollback triggers)
- **Risks:**
  - 현재 설정이 과도하게 보수적이어서 LLM이 '관심' 등급으로 분류한 잠재적 우량 종목의 매수 기회를 놓칠 수 있음.
  - TIER2 포지션 비율이 TIER1과 동일하여 불필요한 리스크 노출 또는 비효율적인 자산 배분이 발생할 수 있음.
  - Stale score 페널티가 시장 비영업일에도 일괄 적용되어, 유효한 신호임에도 불구하고 점수 미달로 매수 기회를 놓치는 경우가 발생할 수 있음.

- **Rollback Triggers:**
  - 백테스트 결과, 현재의 보수적 `MIN_LLM_SCORE` 설정이 유의미한 알파를 지속적으로 놓치고 있음이 확인될 경우.
  - TIER2 포지션 비율이 TIER1 대비 TIER2 종목의 손실률이 유의미하게 높거나, 포트폴리오 전체의 MDD가 증가하는 경향이 관찰될 경우.

## Notes
- 제니와 민지의 의견은 보존하였으며, 준호의 결정을 우선하여 최종 계획을 수립하였습니다.

---
## Appendix: Raw JSON Outputs
<details><summary>Click to expand</summary>

### Jennie
```json
{
  "text": "## Verdict\n- decision: approve_with_changes\n- confidence: 90\n- scope: LLM 점수 기반 매수 결정 로직 및 포지션 사이징, Stale Score 처리\n\n## Key Findings (<=5)\n1.  **TIER2 포지션 사이징의 논리적 불일치:** `trade_tier`가 \"TIER2\"인 종목은 \"Judge 미통과\" 경로임에도 불구하고, \"RECON\" 종목(정찰병 목적의 소액 진입)보다 높은 포지션 비율(1.0 vs 0.3)을 할당받습니다. 이는 LLM 점수 기반의 확신도 차등화 및 포지션 비중 조절이라는 설계 의도와 상충됩니다.\n2.  **`MIN_LLM_SCORE` 설정의 복잡성과 잠재적 기회비용:** `base_min_llm_score` (default 60, DB 70), `tier2_min_llm_score` (default 65), `recon_min_llm_score` (58-70) 등 여러 최소 점수 기준이 `trade_tier` 및 `market_regime`에 따라 다르게 적용되어 로직 이해를 어렵게 합니다. 특히 `MIN_LLM_SCORE=70` (DB 설정)은 LLM 점수 설계 의도(50점 기준 가감, 60-69점 '관심')를 고려할 때, '관심' 등급 종목의 매수를 과도하게 제한하여 잠재적 기회를 놓칠 수 있습니다.\n3.  **Stale LLM Score 페널티의 과도한 보수성:** 24시간 이상 경과된 LLM 점수에 대한 10점 감점 페널티는 시장 비영업일(주말, 공휴일)에도 일괄 적용되어, 유효한 신호임에도 불구하고 점수 미달로 매수 기회를 놓칠 수 있습니다. 이는 데이터 신선도 방어 로직이 과도하게 보수적으로 작동하는 사례로 볼 수 있습니다.\n\n## Evidence\n- references:\n    - `services/buy-executor/executor.py`:\n        - `base_min_llm_score = self.config.get_int('MIN_LLM_SCORE', default=60)`\n        - `tier2_min_llm_score = self.config.get_int('MIN_LLM_SCORE_TIER2', default=65)`\n        - `recon_score_by_regime` dict (58-70)\n        - `if trade_tier == \"TIER1\": min_llm_score = base_min_llm_score`\n        - `elif trade_tier == \"RECON\": min_llm_score = recon_min_llm_score`\n        - `else: min_llm_score = tier2_min_llm_score` (with bull market buffs)\n        - `if current_score < min_llm_score:` (LLM score check)\n        - `if trade_tier == \"RECON\": position_size_ratio *= recon_mult` (recon_mult default 0.3)\n        - `age_hours = (datetime.now(timezone.utc) - scored_dt).total_seconds() / 3600; if age_hours > 24: current_score = max(0, current_score - 10)` (stale score penalty)\n    - User Request:\n        - \"LLM 점수는 '50점 기준 가감' 방식으로 설계됨\"\n        - \"등급 체계: S(80+), A(70-79), B(60-69), C(50-59), D(40-49), F(<40)\"\n        - \"scout_pipeline.py의 trade_tier 분류: TIER1: hybrid_score >= 75, RECON: 60 <= hybrid_score < 75 + 추세 신호, BLOCKED: 그 외\"\n        - \"buy-executor의 MIN_LLM_SCORE 설정: DB CONFIG: MIN_LLM_SCORE = 70 (TIER1 기준), 환경변수/레지스트리: 60\"\n        - \"결과: 63점 종목은 매수 거부됨\"\n        - \"사용자 주장: '점수는 50점에 수렴하도록 설계했고, 조금이라도 높아질수록 알파가 되는 것이다. 따라서 절대 최소 점수(50점대)만 넘으면 수량을 차등화해서 매수해야 한다.'\"\n- missing_data:\n    - `scout_pipeline.py`의 정확한 `hybrid_score` 계산 로직 및 `trade_tier` 분류 상세 로직: TIER1/RECON/TIER2 분류가 `buy-executor`의 `min_llm_score`와 어떻게 연동되는지 더 명확히 파악할 수 있습니다.\n    - `MIN_LLM_SCORE` 및 `MIN_LLM_SCORE_TIER2`의 현재 DB 설정값: 실제 적용되는 최소 점수 기준을 정확히 확인하여 `config.get_int`의 `default` 값과 DB 설정값 간의 우선순위 및 실제 적용값을 명확히 할 수 있습니다.\n\n## Risks & Veto Triggers\n- risks:\n    - 과도한 필터링으로 인해 LLM이 '관심' 등급으로 분류한 잠재적 우량 종목의 매수 기회를 놓칠 수 있습니다.\n    - TIER2 포지션 사이징의 불일치로 인해 TIER1 대비 TIER2 종목에 불필요한 리스크 노출 또는 비효율적인 자산 배분이 발생할 수 있습니다.\n    - Stale score 페널티가 시장 비영업일에도 일괄 적용되어, 유효한 신호임에도 불구하고 점수 미달로 매수 기회를 놓치는 경우가 발생할 수 있습니다.\n- veto_if:\n    - 백테스트 결과, 현재의 보수적 `MIN_LLM_SCORE` 설정이 유의미한 알파를 지속적으로 놓치고 있음이 확인될 경우.\n    - TIER2 포지션 사이징 불일치로 인해 TIER1 대비 TIER2 종목의 손실률이 유의미하게 높거나, 포트폴리오 전체의 MDD(최대 낙폭)가 증가하는 경향이 관찰될 경우.\n\n## Recommendations\n- immediate_actions:\n    1.  **TIER2 포지션 사이징 조정:** `trade_tier == \"TIER2\"`일 때 `position_size_ratio`에 `TIER2_POSITION_MULT` (예: 0.5)를 적용하도록 로직을 수정하여 TIER1과 RECON 사이의 중간 비중을 부여합니다. `TIER2_POSITION_MULT`는 새로운 설정값으로 추가합니다.\n    2.  **`MIN_LLM_SCORE` 설정 검토 및 통일:** `base_min_llm_score`의 기본값을 60으로 유지하고, DB 설정 `MIN_LLM_SCORE`가 70으로 되어 있다면 60으로 하향 조정하는 것을 검토합니다. TIER1은 `scout_pipeline`에서 이미 75점 이상으로 필터링되므로, `buy-executor`에서는 TIER2/RECON의 최소 점수 기준에 집중합니다.\n- experiments:\n    1.  **hypothesis:** LLM 점수 절대 최소 기준을 60점(B등급 하한)으로 설정하고, TIER2에 중간 포지션 비율(0.5)을 적용하면, '관심' 등급 종목의 매수 기회를 확보하면서도 리스크를 적절히 관리하여 전체 포트폴리오의 수익률을 개선할 수 있다.\n        - **method:**\n            - `MIN_LLM_SCORE` (base)를 60으로 설정.\n            - `MIN_LLM_SCORE_TIER2`를 60 또는 62(Bull Market RECON 기준)로 설정.\n            - 새로운 설정값 `TIER2_POSITION_MULT = 0.5`를 추가하고, TIER2 종목 매수 시 `position_size_ratio *= TIER2_POSITION_MULT` 적용.\n            - 과거 데이터에 대해 현재 설정과 비교하는 백테스트를 수행.\n        - **success_metrics:**\n            - 총 수익률(Total Return) 증가.\n            - 샤프 비율(Sharpe Ratio) 개선.\n            - MDD(Maximum Drawdown)가 유의미하게 증가하지 않음.\n            - TIER2 종목의 평균 수익률이 TIER1 대비 과도하게 낮아지지 않음.\n    2.  **hypothesis:** `llm_scored_at` stale check의 24시간 페널티를 시장 비영업일에는 적용하지 않거나 완화하면, 유효한 신호의 매수 기회 손실을 줄일 수 있다.\n        - **method:**\n            - `llm_scored_at` stale check 로직에 `is_market_open()` 또는 `is_trading_day()` 함수를 추가하여, 시장 비영업일에는 `age_hours` 계산에서 해당 시간을 제외하거나, 페널티를 5점 등으로 완화.\n            - 과거 데이터에 대해 현재 설정과 비교하는 백테스트를 수행.\n        - **success_metrics:**\n            - 주말/휴일 직후 매수 기회 손실 감소.\n            - 전체 매수 신호 중 stale score로 인한 스킵 비율 감소.\n            - 수익률에 부정적인 영향이 없음.\n- if_code_change_needed:\n    - `config`에 `TIER2_POSITION_MULT` 키를 추가하고 기본값을 설정합니다.\n    - `process_buy_signal` 함수 내 `position_size` 계산 로직에서 `trade_tier`가 \"TIER2\"일 때 `TIER2_POSITION_MULT`를 `position_size_ratio`에 곱하도록 수정합니다.\n    - `llm_scored_at` stale check 로직에 시장 영업일 여부를 판단하는 조건문을 추가하여 페널티 적용 방식을 개선합니다.\n\n## Questions to the User (optional, <=3)\n- `scout_pipeline.py`에서 TIER1, RECON, TIER2 분류 시 `hybrid_score` 외에 추가적으로 고려되는 조건(예: 추세 신호)이 있다면 상세 설명을 부탁드립니다.\n- `MIN_LLM_SCORE` 및 `MIN_LLM_SCORE_TIER2`의 현재 DB 설정값을 정확히 알려주시면, 코드의 `default` 값과 실제 적용값 간의 차이를 명확히 분석할 수 있습니다.\n- TIER2 종목에 대한 기대 수익률 및 허용 가능한 리스크 수준은 어느 정도로 설정하고 계신가요? 이는 TIER2 포지션 비율을 결정하는 데 중요한 기준이 됩니다.",
  "error": "No JSON found in response"
}
```
### Minji
```json
{
  "text": "# Council Output: LLM 점수 기준 타당성 검토\n\n## Verdict\n- **decision:** approve_with_changes\n- **confidence:** 85\n- **scope:** MIN_LLM_SCORE 기본값 조정 + TIER2 포지션 비율 추가 + Stale Score 로직 개선 (3가지 최소 범위 변경)\n\n---\n\n## Key Findings (<=5)\n\n1. **설계 의도 vs 실제 구현의 괴리**\n   - 설계: \"50점 기준 가감 → 50점대도 알파\" → 절대 최소 기준은 50점 근처\n   - 현재: MIN_LLM_SCORE=70 (DB) → 63점 종목 거부 → 설계 의도 위배\n   - **결론:** 현재 설정은 과도하게 보수적 (기회비용 발생)\n\n2. **TIER 분류와 점수 기준의 불일치**\n   - scout_pipeline: TIER1(≥75), RECON(60~75), BLOCKED(<60)\n   - buy-executor: MIN_LLM_SCORE=70 (TIER1), MIN_LLM_SCORE_TIER2=65 (TIER2)\n   - **문제:** RECON(60~75)이 buy-executor에서 MIN=65로 필터링되어, 60~64점 RECON 종목이 불필요하게 거부됨\n\n3. **TIER2 포지션 비율의 논리적 공백**\n   - TIER1: 1.0 (풀매수)\n   - RECON: 0.3 (소액)\n   - TIER2: 1.0 (???) ← TIER1과 동일 → 확신도 차등화 의도 불명확\n   - **개선:** TIER2는 0.5~0.6 정도의 중간 비율이 논리적\n\n4. **Stale Score 페널티의 시장 비영업일 미고려**\n   - 24시간 경과 시 -10점 일괄 적용\n   - 금요일 15:30 점수 → 월요일 09:00 조회 시 약 65시간 경과 → -10점 페널티\n   - 실제로는 영업일 기준 1일 미만이지만 페널티 적용 → 과도한 보수성\n\n5. **백테스트 부재로 인한 검증 불가**\n   - 현재 설정(MIN=70)과 제안 설정(MIN=60)의 성과 비교 데이터 없음\n   - 정성적 논리만으로는 최적값 결정 불가 → 실증적 검증 필요\n\n---\n\n## Evidence\n\n### References\n- **llm_prompts.py**\n  - L330: \"점수 계산 (기본 50점에서 시작)\"\n  - L357: \"점수는 반드시 50점 기준으로 가감하여 계산하세요\"\n  - L609: \"Bull과 Bear가 팽팽하면 50~55점입니다\"\n\n- **scout_pipeline.py** (추정)\n  - TIER1: `hybrid_score >= 75`\n  - RECON: `60 <= hybrid_score < 75 AND has_trend_signal`\n  - BLOCKED: `hybrid_score < 60`\n\n- **executor.py** (현재 코드)\n  - L~: `base_min_llm_score = self.config.get_int('MIN_LLM_SCORE', default=60)`\n  - L~: `tier2_min_llm_score = self.config.get_int('MIN_LLM_SCORE_TIER2', default=65)`\n  - L~: `if trade_tier == \"TIER1\": min_llm_score = base_min_llm_score`\n  - L~: `if trade_tier == \"RECON\": min_llm_score = recon_min_llm_score` (58~70)\n  - L~: `else: min_llm_score = tier2_min_llm_score` (65)\n  - L~: `if trade_tier == \"RECON\": position_size_ratio *= 0.3` (TIER2는 1.0)\n  - L~: `if age_hours > 24: current_score = max(0, current_score - 10)`\n\n### Missing Data\n- scout_pipeline.py의 정확한 TIER 분류 로직 (hybrid_score 계산식, 추세 신호 정의)\n- 현재 DB CONFIG의 MIN_LLM_SCORE, MIN_LLM_SCORE_TIER2 실제 설정값\n- 과거 6개월 매수 데이터: TIER별 수익률, 승률, MDD 분포\n- 현재 설정(MIN=70)과 제안 설정(MIN=60)의 백테스트 결과\n\n---\n\n## Risks & Veto Triggers\n\n### Risks\n| 항목 | 현재 설정 | 제안 설정 | 영향 |\n|------|---------|---------|------|\n| **기회비용** | 높음 (60~69점 거부) | 낮음 | ✅ 개선 |\n| **위험 노출** | 낮음 | 중간 (60점대 종목 포함) | ⚠️ 모니터링 필요 |\n| **포트폴리오 집중도** | 낮음 | 중간 (TIER2 비중 증가) | ⚠️ 분산 제약 확인 필요 |\n| **손실 확률** | 낮음 | 중간 | ⚠️ 손실률 추적 필요 |\n\n### Veto Triggers\n- ❌ **백테스트 결과 MIN=60 설정이 MIN=70 대비 Sharpe Ratio 10% 이상 악화되는 경우**\n- ❌ **TIER2 포지션 비율 0.5 적용 후 TIER2 종목의 평균 손실률이 TIER1 대비 3배 이상인 경우**\n- ❌ **Stale Score 페널티 완화 후 주말/휴일 직후 손실 거래가 유의미하게 증가하는 경우**\n\n---\n\n## Recommendations\n\n### Immediate Actions\n\n#### 1️⃣ MIN_LLM_SCORE 기본값 조정 (최소 범위)\n**변경 대상:** `executor.py` 내 점수 기준 로직\n\n**현재 상태:**\n```python\nbase_min_llm_score = self.config.get_int('MIN_LLM_SCORE', default=60)  # ← 기본값 60\n# 하지만 DB CONFIG가 70으로 설정되어 있어 실제로는 70 적용\n```\n\n**제안:**\n```python\n# ============================================================\n# [수정] MIN_LLM_SCORE 기본값 및 TIER별 기준 통일\n# ============================================================\n# 설계 의도: 50점 기준 가감 → 절대 최소 기준은 55~60점\n# TIER1(≥75): 풀매수 → 기본 기준 60점 (이미 75점 필터링됨)\n# RECON(60~75): 소액 → 기준 60점 (scout_pipeline과 일치)\n# TIER2(<60): 기술적 신호 → 기준 55점 (보수적 진입)\n\nbase_min_llm_score = self.config.get_int('MIN_LLM_SCORE', default=60)\ntier2_min_llm_score = self.config.get_int('MIN_LLM_SCORE_TIER2', default=55)\n\n# RECON 시장 국면별 기준 (현재 로직 유지, 단 최소값 60으로 캡)\nrecon_score_by_regime = {\n    MarketRegimeDetector.REGIME_STRONG_BULL: 58,\n    MarketRegimeDetector.REGIME_BULL: 60,\n    MarketRegimeDetector.REGIME_SIDEWAYS: 62,\n    MarketRegimeDetector.REGIME_BEAR: 65,\n}\nrecon_min_llm_score = max(60, recon_score_by_regime.get(market_regime, 60))\n```\n\n**DB CONFIG 권장값:**\n```\nMIN_LLM_SCORE = 60  (현재 70 → 60으로 하향)\nMIN_LLM_SCORE_TIER2 = 55  (신규 추가)\n```\n\n**근거:**\n- scout_pipeline의 RECON 기준(60점)과 일치\n- 설계 의도(50점 기준 가감) 존중\n- TIER1은 이미 75점 필터링되므로 buy-executor에서 재필터링 불필요\n\n---\n\n#### 2️⃣ TIER2 포지션 비율 추가 (최소 범위)\n**변경 대상:** `executor.py` 내 포지션 사이징 로직\n\n**현재 상태:**\n```python\nif trade_tier == \"RECON\":\n    recon_mult = self.config.get_float(\"RECON_POSITION_MULT\", default=0.3)\n    position_size_ratio *= recon_mult\n# TIER2는 별도 처리 없음 → position_size_ratio = 1.0\n```\n\n**제안:**\n```python\n# ============================================================\n# [수정] TIER별 포지션 비율 차등화\n# ============================================================\n# TIER1: 1.0 (풀매수, 확신도 높음)\n# TIER2: 0.5 (중간 매수, 확신도 중간)\n# RECON: 0.3 (소액 매수, 확신도 낮음)\n\nif trade_tier == \"TIER1\":\n    # 기본값 유지\n    pass\nelif trade_tier == \"RECON\":\n    recon_mult = self.config.get_float(\"RECON_POSITION_MULT\", default=0.3)\n    position_size_ratio *= recon_mult\n    logger.info(f\"📏 RECON 비율 적용: {position_size_ratio} (mult={recon_mult})\")\nelif trade_tier == \"TIER2\":\n    tier2_mult = self.config.get_float(\"TIER2_POSITION_MULT\", default=0.5)\n    position_size_ratio *= tier2_mult\n    logger.info(f\"📏 TIER2 비율 적용: {position_size_ratio} (mult={tier2_mult})\")\n```\n\n**설정값 추가:**\n```\nTIER2_POSITION_MULT = 0.5  (신규)\n```\n\n**근거:**\n- TIER1(확신도 높음) > TIER2(중간) > RECON(낮음) 순서의 논리적 일관성\n- TIER2는 \"Judge 미통과\"이지만 기술적 신호는 있는 상태 → 중간 비중이 적절\n- 포트폴리오 분산 제약 내에서 기회 활용 가능\n\n---\n\n#### 3️⃣ Stale Score 페널티 개선 (최소 범위)\n**변경 대상:** `executor.py` 내 llm_scored_at 체크 로직\n\n**현재 상태:**\n```python\nif llm_scored_at:\n    try:\n        scored_dt = datetime.fromisoformat(llm_scored_at.replace('Z', '+00:00'))\n        age_hours = (datetime.now(timezone.utc) - scored_dt).total_seconds() / 3600\n        if age_hours > 24:\n            penalty = 10\n            current_score = max(0, current_score - penalty)\n            logger.warning(f\"⚠️ [Stale Score] {age_hours:.1f}시간 경과 → {penalty}점 감점\")\n```\n\n**문제점:**\n- 금요일 15:30 점수 → 월요일 09:00 조회 = 65시간 경과 → -10점\n- 실제 영업일 기준으로는 1일 미만이지만 페널티 적용\n\n**제안:**\n```python\n# ============================================================\n# [수정] Stale Score 페널티: 영업일 기준 적용\n# ============================================================\nif llm_scored_at:\n    try:\n        scored_dt = datetime.fromisoformat(llm_scored_at.replace('Z', '+00:00'))\n        now_utc = datetime.now(timezone.utc)\n        age_hours = (now_utc - scored_dt).total_seconds() / 3600\n        \n        # 영업일 기준 계산 (주말/휴일 제외)\n        # 간단한 방식: 평일만 카운트 (월~금)\n        business_days_passed = 0\n        current_date = scored_dt.date()\n        while current_date < now_utc.date():\n            if current_date.weekday() < 5:  # 월(0)~금(4)\n                business_days_passed += 1\n            current_date += timedelta(days=1)\n        \n        # 페널티: 영업일 기준 1일 이상 경과 시 적용\n        if business_days_passed >= 1:\n            # 보수적 완화: 1일 경과 시 -5점, 2일 이상 시 -10점\n            penalty = 5 if business_days_passed == 1 else 10\n            current_score = max(0, current_score - penalty)\n            logger.warning(\n                f\"⚠️ [Stale Score] {business_days_passed}영업일 경과 \"\n                f\"({age_hours:.1f}시간) → {penalty}점 감점 (현재: {current_score}점)\"\n            )\n        else:\n            logger.debug(f\"✅ [Fresh Score] {age_hours:.1f}시간 경과 (영업일 기준 0일) → 페널티 없음\")\n    except Exception as e:\n        logger.debug(f\"llm_scored_at 파싱 실패: {e}\")\n```\n\n**근거:**\n- 시장 비영업일(주말, 휴일)을 제외한 영업일 기준으로 신선도 판단\n- 금요일 점수 → 월요일 조회 시 페널티 없음 (영업일 기준 0일)\n- 월요일 점수 → 화요일 조회 시 -5점 (영업일 기준 1일)\n\n---\n\n### Experiments\n\n#### 🧪 Experiment 1: MIN_LLM_SCORE 최적값 검증\n\n**",
  "error": "JSON Parse Failed: Expecting property name enclosed in double quotes: line 2 column 5 (char 6)",
  "raw_json_snippet": "{\n    MarketRegimeDetector.REGIME_STRONG_BULL: 58,\n    MarketRegimeDetector.REGIME_BULL: 60,\n    MarketRegimeDetector.REGIME_SIDEWAYS: 62,\n    MarketRegimeDetector.REGIME_BEAR: 65,\n}\nrecon_min_llm_sco"
}
```
### Junho
```json
{
  "text": "## Verdict\n- decision: approve_with_changes\n- confidence: 90\n- scope: MIN_LLM_SCORE 조정 + TIER2 포지션 비율 추가 + Stale Score 로직 개선\n\n## Key Findings (<=5)\n1. **현재 MIN_LLM_SCORE=70 설정의 과도한 보수성:** 현재 설정은 63점 종목을 매수 거부하게 하여, 설계 의도와 상충하며 기회비용을 발생시킴.\n2. **절대 최소 점수 기준의 필요성:** 점수 설계 의도에 따라, 절대 최소 점수는 50점 근처로 설정하는 것이 적절하며, 55점 또는 60점으로 설정할 수 있음.\n3. **TIER1/TIER2/RECON 포지션 비율의 불일치:** TIER2 포지션 비율이 TIER1과 동일하게 1.0으로 설정되어 있어, 확신도 차등화의 의도가 불명확함. TIER2는 0.5~0.6 정도로 조정하는 것이 바람직함.\n4. **Stale Score 페널티의 과도한 적용:** 24시간 경과 시 -10점 페널티는 시장 비영업일에도 적용되어, 유효한 신호를 놓칠 수 있음. 영업일 기준으로 조정할 필요가 있음.\n5. **백테스트 부재로 인한 검증 필요:** 현재 설정과 제안 설정 간의 성과 비교 데이터가 부족하여, 실증적 검증이 필요함.\n\n## Evidence\n- references:\n    - `llm_prompts.py`:\n        - L330: \"점수 계산 (기본 50점에서 시작)\"\n        - L357: \"점수는 반드시 50점 기준으로 가감하여 계산하세요\"\n        - L609: \"Bull과 Bear가 팽팽하면 50~55점입니다\"\n    - `scout_pipeline.py` (추정):\n        - TIER1: `hybrid_score >= 75`\n        - RECON: `60 <= hybrid_score < 75 AND has_trend_signal`\n        - BLOCKED: `hybrid_score < 60`\n    - `executor.py` (현재 코드):\n        - `base_min_llm_score = self.config.get_int('MIN_LLM_SCORE', default=60)`\n        - `tier2_min_llm_score = self.config.get_int('MIN_LLM_SCORE_TIER2', default=65)`\n        - `if trade_tier == \"TIER1\": min_llm_score = base_min_llm_score`\n        - `if trade_tier == \"RECON\": min_llm_score = recon_min_llm_score`\n        - `else: min_llm_score = tier2_min_llm_score`\n        - `if trade_tier == \"RECON\": position_size_ratio *= 0.3`\n        - `if age_hours > 24: current_score = max(0, current_score - 10)`\n\n## Risks & Veto Triggers\n- risks:\n    - 현재 설정이 과도하게 보수적이어서, LLM이 '관심' 등급으로 분류한 잠재적 우량 종목의 매수 기회를 놓칠 수 있음.\n    - TIER2 포지션 비율이 TIER1과 동일하여 불필요한 리스크 노출 또는 비효율적인 자산 배분이 발생할 수 있음.\n    - Stale score 페널티가 시장 비영업일에도 일괄 적용되어, 유효한 신호임에도 불구하고 점수 미달로 매수 기회를 놓치는 경우가 발생할 수 있음.\n- veto_if:\n    - 백테스트 결과, 현재의 보수적 `MIN_LLM_SCORE` 설정이 유의미한 알파를 지속적으로 놓치고 있음이 확인될 경우.\n    - TIER2 포지션 비율이 TIER1 대비 TIER2 종목의 손실률이 유의미하게 높거나, 포트폴리오 전체의 MDD(최대 낙폭)가 증가하는 경향이 관찰될 경우.\n\n## Recommendations\n- immediate_actions:\n    1. **MIN_LLM_SCORE 기본값 조정:** `MIN_LLM_SCORE`를 60으로 하향 조정하고, `MIN_LLM_SCORE_TIER2`를 55로 설정하여 절대 최소 점수를 50점대에 맞추도록 함.\n    2. **TIER2 포지션 비율 추가:** TIER2의 포지션 비율을 0.5로 설정하여 TIER1과 RECON 사이의 중간 비중을 부여함.\n    3. **Stale Score 페널티 개선:** Stale Score 페널티를 영업일 기준으로 적용하여, 시장 비영업일에는 페널티를 완화하도록 로직을 수정함.\n\n## Questions to the User (optional, <=3)\n- `scout_pipeline.py`에서 TIER1, RECON, TIER2 분류 시 `hybrid_score` 외에 추가적으로 고려되는 조건(예: 추세 신호)이 있다면 상세 설명을 부탁드립니다.\n- `MIN_LLM_SCORE` 및 `MIN_LLM_SCORE_TIER2`의 현재 DB 설정값을 정확히 알려주시면, 코드의 `default` 값과 실제 적용값 간의 차이를 명확히 분석할 수 있습니다.\n- TIER2 종목에 대한 기대 수익률 및 허용 가능한 리스크 수준은 어느 정도로 설정하고 계신가요? 이는 TIER2 포지션 비율을 결정하는 데 중요한 기준이 됩니다.",
  "error": "No JSON found in response"
}
```

</details>

---
## Cost Summary
| Model | Input | Output | Cost (USD) |
|-------|-------|--------|------------|
| Jennie (Gemini) | 0 | 0 | $0.0000 |
| Minji (Claude) | 14,921 | 2,449 | $0.4075 |
| Junho (OpenAI) | 0 | 0 | $0.0000 |
| Orchestrator (OpenAI) | 5,613 | 612 | $0.0012 |
| **Total** | - | - | **$0.4087** (≈593원) |
