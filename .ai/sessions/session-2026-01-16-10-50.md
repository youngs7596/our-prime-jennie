
# Session Handoff: Sell Logic Enhancement & Legacy Cleanup

## 요약 (Summary)
`sell-executor`의 매도 로직을 개선하여 **즉시성(Immediacy)**과 **안정성(Robustness)**을 강화했습니다. 매도 신호 발생 시 함께 전달된 가격 정보를 신뢰하여 불필요한 API 호출을 제거했고, 예외 발생 시 Redis Lock을 즉시 해제하도록 안전장치를 추가했습니다. 또한 `buy-scanner`의 레거시 스케줄러 의존성을 정리했습니다.

## 변경 사항 (Changes)
- **`services/sell-executor/executor.py`**:
  - `execute_sell_order` 메서드에 `current_price` 파라미터 추가.
  - 제공된 가격 우선 사용 로직 구현 (Fast Path).
  - `try...finally` 유사 구조를 통한 예외 발생 시 Redis Lock(`lock:sell:{stock_code}`) 즉시 해제 로직 구현.
- **`services/sell-executor/main.py`**:
  - 요청 페이로드에서 `current_price` 추출 및 Executor 전달.
- **`services/buy-scanner/main.py`**:
  - 미사용 `shared.scheduler_runtime` 및 `scheduler_client` import 제거.
- **`tests/services/sell-executor/test_executor_new.py`**:
  - 신규 기능(가격 우선 사용, Lock 해제) 검증을 위한 단위 테스트 작성 및 통과.

## 다음 단계 (Next Steps)
- [ ] **E2E Validation**: 변경된 `sell-executor`가 포함된 전체 매수-매도 파이프라인 통합 테스트 수행 (`tests/integration/test_e2e_pipeline.py`).
- [ ] **System Monitoring**: 실제 장 운영 중 매도 주문 체결 속도 및 로그 모니터링.
