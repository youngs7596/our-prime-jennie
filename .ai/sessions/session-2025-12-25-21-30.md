# Session Handoff: Project Recon 검증 및 버그 수정

## 요약 (Summary)
Project Recon(정찰병 전략) 구현 지시서를 기준으로 현재 구현 상태를 검증하고, 누락된 로직(RECON tier에서 is_tradable=True 설정)을 수정했습니다. 또한 Dashboard Frontend 빌드 에러를 수정했습니다.

## 변경 사항 (Changes)

### 1. Project Recon 구현 검증
- **A. RSI 감점 면제**: ✅ 완료 (momentum >= 20 & RSI 50~70 → 최소 1.5점 보장)
- **B. TRADE_TIER 구조**: ⚠️ 부분 구현 → **수정 완료**
- **C. 하락장 정찰 허용**: ✅ 완료 (ENABLE_RECON_IN_BEAR)
- **D. 자금 집행 차등**: ✅ 완료 (30% 비중 + -2.5% 손절)

### 2. scout_pipeline.py 수정 (핵심)
```python
# 수정 전: RECON tier도 is_tradable=False였음
# 수정 후: RECON tier는 is_tradable=True로 설정
if is_recon:
    is_tradable = True
```

### 3. Dashboard Frontend 빌드 에러 수정
- `Dialog.tsx`: 신규 생성 (Radix UI 기반)
- `Label.tsx`: 신규 생성
- `Badge.tsx`: 신규 생성
- `package.json`: `react-hot-toast` 패키지 추가
- `Settings.tsx`: 타입 에러 수정 (`open: boolean`)

## 현재 상태 (Current State)

### Project Recon 설정값
| 설정 | 값 | 설명 |
|------|------|------|
| RECON_POSITION_MULT | 0.3 | 정찰병 30% 비중 |
| RECON_STOP_LOSS_PCT | -0.025 | 정찰병 -2.5% 손절 |
| RECON_MOMENTUM_MIN | 20.0 | 모멘텀 최소 점수 |
| RECON_VOLUME_RATIO_MIN | 1.5 | 거래량 추세 최소 배수 |
| ENABLE_RECON_IN_BEAR | True | 하락장 정찰 허용 |

### DB 현황 (장 마감 후)
- WATCHLIST 전체: 33개
- RECON: 18개 (평균 62.6점)
- BLOCKED: 15개 (평균 54.6점)
- TIER1: 0개 (75점 이상 종목 없음)

## 다음 단계 (Next Steps)
- [ ] 🔴 Scout 서비스 재시작 후 RECON 종목들이 is_tradable=1로 저장되는지 확인
- [ ] 🔴 다음 장 시작 시 RECON 매수가 30% 비중으로 실행되는지 모니터링
- [ ] 🟡 Project Recon 설계 문서 작성 (`docs/PROJECT_RECON.md`)
- [ ] 🟡 RECON 조건 강화 검토 (추세 신호 2개 이상 요구 등)

## Context for Next Session
다음 세션 시작 시 아래 파일들을 먼저 읽어주세요:
- `services/scout-job/scout_pipeline.py` - TRADE_TIER 산정 로직
- `services/buy-executor/executor.py` - RECON 비중/손절 적용 로직
- `shared/settings/registry.py` - RECON 설정값 정의

## 핵심 결정사항 (Key Decisions)
1. **RECON tier에서 is_tradable=True 설정**: 지시서 요구사항대로 수정
2. **Dashboard 컴포넌트 추가**: Radix UI 기반으로 일관된 스타일 유지

## 주의사항 (Warnings)
- Scout 서비스가 재시작되어야 수정된 로직이 적용됨
- 현재 TIER1(75점 이상) 종목이 없어 RECON 위주로 매수될 예정
- RECON 매수가 너무 많아질 경우 조건 강화 필요할 수 있음

