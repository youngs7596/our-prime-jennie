# Session Handoff: Airflow Utility Jobs Migration & Portfolio Fix (Hotfix)

## 요약 (Summary)
이번 세션에서는 `buy-executor`의 포트폴리오 크기 제한 버그(10/10)를 해결하고, 기존 Crontab으로 실행되던 5개의 유틸리티 스크립트를 Airflow DAG(`utility_jobs_dag.py`)로 이관했습니다. 또한 Airflow 컨테이너가 Host 네트워크의 서비스(KIS Gateway, Ollama)에 접근할 수 있도록 네트워크 설정을 개선했으며, **Airflow DAG 파일들(`host_consolidated_dag.py`, `news_crawler_dag.py`)에서 발생한 Import Error(SyntaxError)를 수정**했습니다.

## 변경 사항 (Changes)
- `dags/utility_jobs_dag.py`: [NEW] `collect_intraday` 등 5개 유틸리티 잡에 대한 DAG 정의 생성.
- `dags/host_consolidated_dag.py`: [FIX] 중복된 `schedule_interval` 인자 삭제.
- `dags/news_crawler_dag.py`: [FIX] 중복된 `schedule_interval` 인자 삭제.
- `docker-compose.yml`: [MODIFY] `airflow-scheduler` 및 `airflow-webserver` 서비스에 `extra_hosts`("host.docker.internal:host-gateway") 추가.
- `scripts/inspect_portfolio.py`: [MODIFY] DB 엔진 초기화 로직 수정 및 포트폴리오 데이터 조회용 디버그 스크립트.

## 다음 단계 (Next Steps)
- [ ] `STOCK_DAILY_PRICES_3Y` 테이블 등에서 발견된 중복 데이터(Duplicate Entries) 정리 작업.
- [ ] Airflow 대시보드에서 등록된 신규 DAG들의 실제 실행 성공 여부 모니터링.
- [ ] (완료됨) 기존 Host Crontab 삭제.
