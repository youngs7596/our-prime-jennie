# Session Handoff: Logic Observability & Airflow KST Fix
## 요약 (Summary)
이번 세션에서는 사용자가 AI의 매매 로직을 투명하게 확인할 수 있는 **Logic Observability (로직 시각화)** 기능을 구현했습니다. Backend(`monitor.py`)에서 계산된 지표를 Redis에 스냅샷으로 저장하고, Frontend(`VisualLogic.tsx`)에서 차트 위에 "보이지 않는 선들"(Stop Loss, Profit Floor)을 시각화했습니다. 또한, Airflow 스케줄링이 UTC 기준으로 설정되어 월요일 아침 작업이 누락되던 문제를 **KST 명시적 적용**으로 해결했습니다.

## 변경 사항 (Changes)
- **Logic Observability**
    - `services/price-monitor/monitor.py`: 매도 로직 계산 시점의 데이터(RSI, ATR, Stop Loss 등)를 Redis `logic:snapshot:{code}` 키에 저장.
    - `services/dashboard/backend/routers/logic.py`: Logic Snapshot과 60일치 주가 데이터를 결합해 반환하는 API 신설.
    - `services/dashboard/frontend/src/api/logic.ts`: Frontend용 API 클라이언트 구현.
    - `services/dashboard/frontend/src/pages/logic/VisualLogic.tsx`: 'Real-Time Observability' 모드 추가 및 Lightweight-charts `PriceLine` 기능으로 중요 가격대 시각화.

- **Infrastructure (Airflow)**
    - `dags/scout_job_dag.py`: 스케줄을 `cron: 0,30 8-15 * * 1-5` (KST)로 변경.
    - `dags/daily_asset_snapshot_dag.py`: 15:45 KST로 변경.
    - `dags/price_monitor_dag.py`: 09:00 Start / 15:30 Stop (KST)로 변경.
    - `dags/host_consolidated_dag.py`: Weekly Factor, Daily Collector 등 모든 작업 KST 적용.
    - `dags/utility_jobs_dag.py`: Intraday Collector 등 유틸리티 작업 KST 적용.
    
- **CI/CD Optimization**
    - `Jenkinsfile`: `docker compose build` 명령어에서 `--pull` 옵션 제거. (이미지 캐시 무효화 방지)

## 다음 단계 (Next Steps)
- **실전 모니터링**: 내일 장 시작(09:00) 후 대시보드 'Real' 탭에서 실제 데이터가 정상적으로 표시되는지 확인.
- **인프라 최적화**: Jenkins/Ollama 등 리소스 과다 점유 서비스의 설정 튜닝 (사용자 요청 시).
